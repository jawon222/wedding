<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>종경 ♥ 자원 모바일 청첩장</title>
  <link rel="stylesheet" href="style.css">
  <!-- 웹폰트 불러오기 -->
  <link href="https://webfontworld.github.io/ChosunNm/ChosunNm.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

<!-- 🎵 배경음악 자동 재생 -->
<audio id="bgm" autoplay loop muted>
  <source src="audio/bgm.mp3" type="audio/mpeg">
</audio>

<!-- 🎀 헤더 영역 -->
<header class="wedding-header">
  <button id="toggleBGM" onclick="toggleBGM()">
    <span id="bgmIcon">🔈</span>
  </button>
</header>

<!-- ✨ 자바스크립트: 음악 제어 함수 -->
<script>
  let isMuted = true;
  function toggleBGM() {
    const audio = document.getElementById('bgm');
    const icon = document.getElementById('bgmIcon');
    isMuted = !isMuted;
    audio.muted = isMuted;
    if (!isMuted) {
      audio.play().catch(() => {
        alert("브라우저에서 음악 자동재생이 차단되었습니다.");
      });
    }
    icon.textContent = isMuted ? "🔈" : "🔊";
  }
</script>

<!-- 1. Cover -->
<section class="page" id="cover">
  <img src="images/cover.png" alt="커버 이미지" class="cover-img only-cover">
</section>

<!-- 커버 텍스트를 별도 섹션으로 분리 -->
<section class="page fade-in-section" id="cover-text">
  <div class="couple-names">
    <span class="groom-name"><strong>종경</strong></span>
    <span class="name-divider">그리고</span>
    <span class="bride-name"><strong>자원</strong></span>
  </div><br><br>
  <div class="wedding-info">
    <p class="wedding-date">2025. 8. 23 토요일 오후 12:10</p>
    <p class="wedding-place">웨스턴라이프호텔 2층 루미에르홀</p>
  </div>
</section>

<!-- (이하 나머지 섹션은 그대로 유지) -->
<section class="page fade-in-section" id="greeting">
  <div class="invitation-image">
    <img src="images/flower-divider.png" alt="장식 이미지">
  </div>
  <h2>Invitation</h2>
  <p>좋은 걸 보면 서로가 생각나는 두 사람이 만나<br>
  평생 서로의 웃음 버튼이 되어주기로 했습니다.<br>
  그 시작을 지켜봐 주신다면 감사하겠습니다.</p>

  <div class="parents-info">
    <div class="parent-group">
      <p class="parent-title"><strong>이선기 · 김미</strong> 의 장남 <strong>종경</strong></p>
    </div>
    <div class="parent-group">
      <p class="parent-title"><strong>이도중 · 김성화</strong> 의 차녀 <strong>자원</strong></p>
    </div>
  </div>
</section><br><br><br>

<!-- 이후 기존 코드 그대로 -->
<section class="page fade-in-section" id="gallery">
  <h2>Gallery</h2>
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="images/photo1.png" /></div>
      <div class="swiper-slide"><img src="images/photo2.png" /></div>
      <div class="swiper-slide"><img src="images/photo3.png" /></div>
      <div class="swiper-slide"><img src="images/photo4.png" /></div>
    </div>
    <!-- 네비게이션 버튼 추가 -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <!-- 페이지네이션 추가 -->
    <div class="swiper-pagination"></div>
  </div>
</section>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  new Swiper('.swiper', {
    loop: true,
    slidesPerView: 1,
    spaceBetween: 0,
    autoplay: { 
      delay: 3000,
      disableOnInteraction: false  // 사용자 상호작용 후에도 자동재생 유지
    },
    // 네비게이션 버튼 활성화
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    // 페이지네이션 활성화
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    // 드래그 기능 개선
    grabCursor: true,  // 드래그 가능할 때 커서 변경
    effect: 'slide',   // 슬라이드 효과
    speed: 600,        // 전환 속도
    resistance: true,  // 드래그 저항 활성화
    resistanceRatio: 0.85,  // 저항 비율
  });
</script><br><br><br>

<section class="page fade-in-section" id="movie">
  <h2>Movie</h2><br>
  <iframe width="100%" height="215" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
</section><br><br><br>

<section class="page fade-in-section" id="location">
  <h2>Location</h2>
  <p>웨스턴라이프호텔 2층 루미에르홀<br>전북특별자치도 익산시 동서로 380</p>
  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3242.727546008154!2d126.97343937677655!3d35.96450197246047!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35702c01bb7d8f91%3A0x48e31e1adb29d358!2z7JuU7Iqk7YS17IKs7J207ZS87ZWtIO2VtOyCsA!5e0!3m2!1sko!2skr!4v1709799161599!5m2!1sko!2skr" 
    width="100%" 
    height="300" 
    style="border:0;" 
    allowfullscreen="" 
    loading="lazy" 
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>

  <div class="traffic-info">
    <div class="traffic-section">
      <h3><i class="fas fa-subway"></i> 기차 이용시</h3>
      <p>익산역 하차 <br>
       [버스]<br>
      - 약 20분: 대한통운 정류장 ( 도보2분 ) - 61번/65번 승차 ( 17분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 )<br>
      - 약 21분: 중앙시장 정류장 ( 도보3분 ) - 1번 / 107번 승차 ( 17분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
      [택시] <br>
      - 약 15분 / 총 4.08km / 택시비 약 5,600원 </p>
    </div>

    <div class="traffic-section">
      <h3><i class="fas fa-bus"></i> 고속버스 이용시</h3>
      <p>익산 고속버스터미널 하차 <br>
        [버스]<br>
       - 약 26분: 익산고속버스터미널 하차 - 익산터미널 정류장 ( 도보2분 ) - 1번/2번 승차 ( 23분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
       - 약 26분: 익산고속버스터미널 하차 - 평화사거리 정류장 ( 도보4분 ) - 65번/61번/60번 승차 ( 21분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
       [택시] <br>
       - 약 17분 / 총4.87km / 택시비 약 6,400원 </p>
     </div>
</section><br><br>

<section class="page fade-in-section" id="account">
  <h2>마음 전하실 곳</h2><br>
  
  <div class="account-container">
    <div class="account-item">
      <button class="accordion-btn">
        <span>신랑 측 계좌번호</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="accordion-content">
        <div class="account-info">
          <div class="account-row">
            <span class="account-value">이종경</span>
          </div>
          <div class="account-row">
            <span class="account-value">농협 531012-56-215786</span>
            <button class="copy-btn" data-account="53101256215786">
              <i class="far fa-copy"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="account-item">
      <button class="accordion-btn">
        <span>신부 측 계좌번호</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="accordion-content">
        <div class="account-info">
          <div class="account-row">
            <span class="account-value">이자원</span>
          </div>
          <div class="account-row">
            <span class="account-value">신한은행 110-336-161568</span>
            <button class="copy-btn" data-account="110336161568">
              <i class="far fa-copy"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 토스트 메시지 -->
  <div id="toast-message" class="toast-message">
    계좌번호가 복사되었습니다
  </div>
</section>

<script>
  // 커버 이미지 페이드인
  window.addEventListener('load', () => {
    const coverImage = document.querySelector('.cover-img');
    if (coverImage) {
      coverImage.classList.add('visible');
    }
  });

  // 각 섹션 스크롤 등장 애니메이션
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
      }
    });
  }, {
    threshold: 0.1
  });

  document.querySelectorAll('.fade-in-section').forEach(section => {
    observer.observe(section);
  });

  // 아코디언 기능
  document.querySelectorAll('.accordion-btn').forEach(button => {
    button.addEventListener('click', () => {
      const content = button.nextElementSibling;
      button.classList.toggle('active');
      
      if (button.classList.contains('active')) {
        content.style.maxHeight = content.scrollHeight + "px";
      } else {
        content.style.maxHeight = 0;
      }
    });
  });

  // 계좌번호 복사 기능
  document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', async () => {
      const accountNumber = button.getAttribute('data-account');
      try {
        await navigator.clipboard.writeText(accountNumber);
        
        // 토스트 메시지 표시
        const toast = document.getElementById('toast-message');
        toast.classList.add('show');
        
        // 3초 후 토스트 메시지 숨김
        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      } catch (err) {
        alert('계좌번호 복사에 실패했습니다.');
      }
    });
  });
</script>

<!-- 하단 버튼 영역 (floating-buttons를 bottom-buttons로 변경) -->
<div class="bottom-buttons">
  <button class="like-button">
    <span class="heart-icon">❤️</span>
    <span class="like-count">0</span>
  </button>
  <button class="share-button">
    <span>공유</span>
  </button>
  <button class="top-button">
    <span>위로</span>
  </button>
</div>

<!-- Canvas for confetti -->
<canvas id="confetti-canvas"></canvas>

<!-- 필요한 스크립트 추가 -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script src="script.js"></script>
</body>
</html>
