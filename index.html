<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>종경 ♥ 자원 모바일 청첩장</title>
  <link rel="stylesheet" href="style.css">
  <!-- 웹폰트 불러오기 -->
  <link href="https://webfontworld.github.io/ChosunNm/ChosunNm.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    @keyframes falling {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .heart {
      position: fixed;
      width: var(--size);
      height: var(--size);
      background: linear-gradient(135deg, var(--color1), var(--color2));
      transform: rotate(45deg);
      pointer-events: none;
      z-index: 1000;
      opacity: 0.8;
    }

    .heart:before,
    .heart:after {
      content: '';
      width: var(--size);
      height: var(--size);
      background: inherit;
      border-radius: 50%;
      position: absolute;
    }

    .heart:before {
      left: calc(var(--size) * -0.5);
    }

    .heart:after {
      top: calc(var(--size) * -0.5);
    }

    /* invitation 문구 줄바꿈 방지 */
    #greeting p {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 16px;
      line-height: 1.5;
    }

    /* 모바일 환경에서도 한 줄로 표시 */
    @media screen and (max-width: 768px) {
      #greeting p {
        font-size: 16px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        line-height: 1.5;
      }
    }

    /* 하트 버튼 스타일 */
    .heart-button-container {
      text-align: center;
      margin: 20px 0;
      position: relative;
    }

    .heart-button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 2.5rem;
      color: #ff6b6b;
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
      filter: drop-shadow(0 0 5px rgba(255, 107, 107, 0.5));
    }

    .heart-button:hover {
      transform: scale(1.2);
      filter: drop-shadow(0 0 15px rgba(255, 107, 107, 0.8));
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px rgba(255, 107, 107, 0.5));
      }
      50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 20px rgba(255, 107, 107, 0.8));
      }
      100% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px rgba(255, 107, 107, 0.5));
      }
    }

    .thank-you-message {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      background-color: white;
      color: #ff6b6b;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 16px;
      opacity: 0;
      transition: all 0.3s ease;
      white-space: nowrap;
      border: 2px solid #ff6b6b;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .thank-you-message:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 10px solid white;
    }

    .thank-you-message:before {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 11px solid transparent;
      border-right: 11px solid transparent;
      border-top: 11px solid #ff6b6b;
    }

    .thank-you-message.show {
      opacity: 1;
      transform: translateX(-50%) translateY(-5px);
    }
  </style>
</head>
<body>
  <script>
    // 하트 생성 함수
    function createHearts() {
      const coverSection = document.getElementById('cover');
      if (!coverSection) return;

      const heartCount = 10;
      const colors = [
        { color1: '#ff6b6b', color2: '#ff8e8e' },
        { color1: '#ff8e8e', color2: '#ffb6b6' },
        { color1: '#ffb6b6', color2: '#ffd1d1' },
        { color1: '#ffd1d1', color2: '#ffe0e0' }
      ];

      for (let i = 0; i < heartCount; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'heart';
          
          // 랜덤 크기 (5px ~ 15px)
          const size = Math.random() * 10 + 5;
          
          // 랜덤 색상 선택
          const color = colors[Math.floor(Math.random() * colors.length)];
          
          // cover 섹션의 위치와 크기에 맞춰 하트 생성
          const coverRect = coverSection.getBoundingClientRect();
          const startX = coverRect.left + Math.random() * coverRect.width;
          
          heart.style.cssText = `
            --size: ${size}px;
            --color1: ${color.color1};
            --color2: ${color.color2};
            left: ${startX}px;
            top: ${coverRect.top}px;
            animation: falling ${Math.random() * 5 + 8}s linear infinite;
            animation-delay: ${Math.random() * 3}s;
          `;
          
          document.body.appendChild(heart);
          
          heart.addEventListener('animationend', () => {
            heart.remove();
          });
        }, i * 500);
      }
    }

    // 페이지 로드 시 하트 생성 시작
    document.addEventListener('DOMContentLoaded', () => {
      createHearts();
      setInterval(createHearts, 8000);
    });
  </script>

<!-- 🎵 배경음악 자동 재생 -->
<audio id="bgm" autoplay loop muted>
  <source src="audio/bgm.mp3" type="audio/mpeg">
</audio>

<!-- 🎀 헤더 영역 -->
<header class="wedding-header">
  <button id="toggleBGM" onclick="toggleBGM()">
    <span id="bgmIcon">🔈</span>
  </button>
</header>

<!-- ✨ 자바스크립트: 음악 제어 함수 -->
<script>
  let isMuted = true;
  function toggleBGM() {
    const audio = document.getElementById('bgm');
    const icon = document.getElementById('bgmIcon');
    isMuted = !isMuted;
    audio.muted = isMuted;
    if (!isMuted) {
      audio.play().catch(() => {
        alert("브라우저에서 음악 자동재생이 차단되었습니다.");
      });
    }
    icon.textContent = isMuted ? "🔈" : "🔊";
  }
</script>

<!-- 1. Cover -->
<section class="page" id="cover">
  <img src="images/cover.png" alt="커버 이미지" class="cover-img only-cover">
</section>

<!-- 커버 텍스트를 별도 섹션으로 분리 -->
<section class="page fade-in-section" id="cover-text">
  <div class="couple-names">
    <span class="groom-name"><strong>종경</strong></span>
    <span class="name-divider"><strong>그리고</strong></span>
    <span class="bride-name"><strong>자원</strong></span>
  </div><br><br>
  <div class="wedding-info">
    <p class="wedding-date">2025. 8. 23 토요일 오후 12:10</p>
    <p class="wedding-place">웨스턴라이프호텔 2층 루미에르홀</p>
  </div>
</section>

<!-- (이하 나머지 섹션은 그대로 유지) -->
<section class="page fade-in-section" id="greeting">
  <div class="invitation-image">
    <img src="images/flower-divider.png" alt="장식 이미지">
  </div>
  <h2>Invitation</h2>
  <p>좋은 걸 보면 서로가 생각나는 두 사람이 만나<br>
  평생 서로의 웃음 버튼이 되어주기로 했습니다.<br>
  그 시작을 지켜봐 주신다면 감사하겠습니다.</p>

  <div class="parents-info">
    <div class="parent-group">
      <p class="parent-title"><strong id="groom-parents">이선기 · 김미</strong> 의 장남 <strong id="groom-name">종경</strong></p>
    </div>
    <div class="parent-group">
      <p class="parent-title"><strong id="bride-parents">이도중 · 김성화</strong> 의 차녀 <strong id="bride-name">자원</strong></p>
    </div>
  </div>
</section><br><br><br>

<!-- 이후 기존 코드 그대로 -->
<section class="page fade-in-section" id="gallery">
  <h2>Gallery</h2>
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="images/photo1.png" /></div>
      <div class="swiper-slide"><img src="images/photo2.png" /></div>
      <div class="swiper-slide"><img src="images/photo3.png" /></div>
      <div class="swiper-slide"><img src="images/photo4.png" /></div>
    </div>
    <!-- 네비게이션 버튼 추가 -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <!-- 페이지네이션 추가 -->
    <div class="swiper-pagination"></div>
  </div>
</section>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  new Swiper('.swiper', {
    loop: true,
    slidesPerView: 1,
    spaceBetween: 0,
    autoplay: { 
      delay: 3000,
      disableOnInteraction: false  // 사용자 상호작용 후에도 자동재생 유지
    },
    // 네비게이션 버튼 활성화
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    // 페이지네이션 활성화
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    // 드래그 기능 개선
    grabCursor: true,  // 드래그 가능할 때 커서 변경
    effect: 'slide',   // 슬라이드 효과
    speed: 600,        // 전환 속도
    resistance: true,  // 드래그 저항 활성화
    resistanceRatio: 0.85,  // 저항 비율
  });
</script><br><br><br>

<section class="page fade-in-section" id="movie">
  <h2>Movie</h2><br>
  <iframe width="100%" height="215" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
</section><br><br><br>

<section class="page fade-in-section" id="location">
  <h2>Location</h2>
  <p>웨스턴라이프호텔 2층 루미에르홀<br>전북특별자치도 익산시 동서로 380</p>
  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3242.727546008154!2d126.97343937677655!3d35.96450197246047!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35702c01bb7d8f91%3A0x48e31e1adb29d358!2z7JuU7Iqk7YS17IKs7J207ZS87ZWtIO2VtOyCsA!5e0!3m2!1sko!2skr!4v1709799161599!5m2!1sko!2skr" 
    width="100%" 
    height="300" 
    style="border:0;" 
    allowfullscreen="" 
    loading="lazy" 
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>

  <div class="traffic-info">
    <div class="traffic-section">
      <h3><i class="fas fa-subway"></i> 기차 이용시</h3>
      <p>익산역 하차 <br>
       [버스]<br>
      - 약 20분: 대한통운 정류장 ( 도보2분 ) - 61번/65번 승차 ( 17분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 )<br>
      - 약 21분: 중앙시장 정류장 ( 도보3분 ) - 1번 / 107번 승차 ( 17분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
      [택시] <br>
      - 약 15분 / 총 4.08km / 택시비 약 5,600원 </p>
    </div>

    <div class="traffic-section">
      <h3><i class="fas fa-bus"></i> 고속버스 이용시</h3>
      <p>익산 고속버스터미널 하차 <br>
        [버스]<br>
       - 약 26분: 익산고속버스터미널 하차 - 익산터미널 정류장 ( 도보2분 ) - 1번/2번 승차 ( 23분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
       - 약 26분: 익산고속버스터미널 하차 - 평화사거리 정류장 ( 도보4분 ) - 65번/61번/60번 승차 ( 21분 ) - 신일아파트 정류장 하차 - 웨스턴라이프호텔 ( 도보1분 ) <br>
       [택시] <br>
       - 약 17분 / 총4.87km / 택시비 약 6,400원 </p>
     </div>
</section><br><br>

<section class="page fade-in-section" id="account">
  <h2>마음 전하실 곳</h2><br>
  
  <div class="account-container">
    <div class="account-item">
      <button class="accordion-btn">
        <span>신랑 측 계좌번호</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="accordion-content">
        <div class="account-info">
          <div class="account-row">
            <span class="account-value">이종경</span>
          </div>
          <div class="account-row">
            <span class="account-value">농협 531012-56-215786</span>
            <button class="copy-btn" data-account="53101256215786">
              <i class="far fa-copy"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="account-item">
      <button class="accordion-btn">
        <span>신부 측 계좌번호</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="accordion-content">
        <div class="account-info">
          <div class="account-row">
            <span class="account-value">이자원</span>
          </div>
          <div class="account-row">
            <span class="account-value">신한은행 110-336-161568</span>
            <button class="copy-btn" data-account="110336161568">
              <i class="far fa-copy"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 하트 버튼을 계좌번호 아래로 이동 -->
  <div class="heart-button-container">
    <button id="heartButton" class="heart-button">
      <i class="fas fa-heart"></i>
    </button>
    <!-- 감사 메시지 표시 영역 -->
    <div id="thankYouMessage" class="thank-you-message"></div>
  </div>

  <!-- 토스트 메시지 -->
  <div id="toast-message" class="toast-message">
    계좌번호가 복사되었습니다
  </div>
</section>

<script>
  // 커버 이미지 페이드인
  window.addEventListener('load', () => {
    const coverImage = document.querySelector('.cover-img');
    if (coverImage) {
      coverImage.classList.add('visible');
    }
  });

  // 각 섹션 스크롤 등장 애니메이션
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
      }
    });
  }, {
    threshold: 0.1
  });

  document.querySelectorAll('.fade-in-section').forEach(section => {
    observer.observe(section);
  });

  // 아코디언 기능
  document.querySelectorAll('.accordion-btn').forEach(button => {
    button.addEventListener('click', () => {
      const content = button.nextElementSibling;
      button.classList.toggle('active');
      
      if (button.classList.contains('active')) {
        content.style.maxHeight = content.scrollHeight + "px";
      } else {
        content.style.maxHeight = 0;
      }
    });
  });

  // 계좌번호 복사 기능
  document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', async () => {
      const accountNumber = button.getAttribute('data-account');
      try {
        await navigator.clipboard.writeText(accountNumber);
        
        // 토스트 메시지 표시
        const toast = document.getElementById('toast-message');
        toast.classList.add('show');
        
        // 3초 후 토스트 메시지 숨김
        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      } catch (err) {
        alert('계좌번호 복사에 실패했습니다.');
      }
    });
  });

  // 감사 메시지 배열
  const thankYouMessages = [
    "감사합니다 💕",
    "사랑해요 ❤️",
    "고마워요 💝",
    "축하해요 💖",
    "행복해요 💗",
    "응원해요 💓",
    "축하 감사합니다 💘",
    "종경💝자원",
    "정말 감사합니다 💖",
    "사랑합니다 💗"
  ];

  // 하트 버튼 클릭 이벤트
  document.getElementById('heartButton').addEventListener('click', () => {
    // 하트 폭죽 효과
    const colors = [
      // 핑크 계열
      '#ff6b6b', '#ff8e8e', '#ffb6b6', '#ffd1d1',
      '#ff69b4', '#ff1493', '#ffc0cb', '#ffb6c1',
      '#ff69b4', '#ff1493', '#ffc0cb', '#ffb6c1',
      // 파스텔 핑크
      '#ffd6e0', '#ffb6c1', '#ffc0cb', '#ffd1dc',
      '#ffb6c1', '#ffc0cb', '#ffd1dc', '#ffd6e0',
      // 라벤더 계열
      '#e6e6fa', '#d8bfd8', '#dda0dd', '#ee82ee',
      // 코랄 계열
      '#ff7f50', '#ff6347', '#ff4500', '#ff8c69',
      // 골드 계열
      '#ffd700', '#ffdf00', '#ffec00', '#fff200',
      // 화이트 계열
      '#fff0f5', '#ffe4e1', '#fff5ee', '#faf0e6'
    ];
    
    // 중앙에서 터지는 하트
    for (let i = 0; i < 30; i++) {
      setTimeout(() => {
        confetti({
          particleCount: 1,
          spread: 360,
          startVelocity: 30,
          gravity: 0.5,
          ticks: 200,
          origin: { x: 0.5, y: 0.5 },
          colors: [colors[Math.floor(Math.random() * colors.length)]],
          shapes: ['heart'],
          scalar: 1.5
        });
      }, i * 50);
    }

    // 좌우에서 터지는 하트
    for (let i = 0; i < 20; i++) {
      setTimeout(() => {
        // 왼쪽에서 터지는 하트
        confetti({
          particleCount: 1,
          angle: 60,
          spread: 55,
          startVelocity: 30,
          gravity: 0.5,
          ticks: 200,
          origin: { x: 0.2, y: 0.5 },
          colors: [colors[Math.floor(Math.random() * colors.length)]],
          shapes: ['heart'],
          scalar: 1.5
        });

        // 오른쪽에서 터지는 하트
        confetti({
          particleCount: 1,
          angle: 120,
          spread: 55,
          startVelocity: 30,
          gravity: 0.5,
          ticks: 200,
          origin: { x: 0.8, y: 0.5 },
          colors: [colors[Math.floor(Math.random() * colors.length)]],
          shapes: ['heart'],
          scalar: 1.5
        });
      }, i * 50);
    }

    // 아래에서 위로 터지는 하트
    for (let i = 0; i < 20; i++) {
      setTimeout(() => {
        confetti({
          particleCount: 1,
          angle: 270,
          spread: 70,
          startVelocity: 30,
          gravity: 0.5,
          ticks: 200,
          origin: { x: 0.5, y: 0.8 },
          colors: [colors[Math.floor(Math.random() * colors.length)]],
          shapes: ['heart'],
          scalar: 1.5
        });
      }, i * 50);
    }

    // 랜덤 감사 메시지 표시
    const messageElement = document.getElementById('thankYouMessage');
    const randomMessage = thankYouMessages[Math.floor(Math.random() * thankYouMessages.length)];
    messageElement.textContent = randomMessage;
    messageElement.classList.add('show');

    // 2초 후 메시지 사라짐
    setTimeout(() => {
      messageElement.classList.remove('show');
    }, 2000);
  });
</script>

<!-- Canvas for confetti -->
<canvas id="confetti-canvas"></canvas>

<!-- 필요한 스크립트 추가 -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script src="script.js"></script>
</body>
</html>
